<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resultados - Match Property</title>
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/pages/resultados.css">
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
    <!-- Header -->
    <header class="header-resultados">
        <div class="container-fluid">
            <div class="header-content">
                <div class="logo">
                    <img src="assets/images/logos/logo.jpg" alt="Match Property" class="logo-img">
                </div>
                <div class="header-info">
                    <h1 id="resultadosCount">Cargando...</h1>
                    <div id="filtrosAplicados" class="filtros-aplicados">
                        <!-- Se carga din√°micamente -->
                    </div>
                </div>
                <button class="hamburger" id="hamburger" aria-label="Menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div class="header-actions" id="headerActions">
                    <a href="busqueda.html" class="btn btn-outline">‚Üê Volver a Filtros</a>
                    <span id="usuarioInfo" class="usuario-info">Usuario: Invitado</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Imagen Referencial Inicial -->
    <div id="imagenReferencial" class="imagen-referencial">
        <div class="imagen-referencial-content">
            <div class="imagen-referencial-bg"></div>
            <div class="imagen-referencial-overlay">
                <div class="resultados-info">
                    <h2 id="mensajeResultados">Se encontraron <span id="numResultados">0</span> propiedades</h2>
                    <p id="detalleDistrito">en <span id="numDistritos">0</span> distrito(s) seleccionado(s)</p>
                </div>
                <div class="botones-filtros">
                    <button id="btnFiltroBasico" class="btn btn-filtro">
                        <span>üìã</span>
                        <span>Filtro B√°sico</span>
                    </button>
                    <button id="btnFiltroAvanzado" class="btn btn-filtro">
                        <span>‚öôÔ∏è</span>
                        <span>Filtro Avanzado</span>
                    </button>
                    <button id="btnFavoritos" class="btn btn-filtro btn-favoritos">
                        <span>‚ù§Ô∏è</span>
                        <span>Favoritos</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Panel de Filtros (Oculto inicialmente) -->
    <div id="panelFiltros" class="panel-filtros" style="display: none;">
        <div class="panel-filtros-header">
            <h3 id="tituloFiltro">Filtro B√°sico</h3>
            <button id="btnCerrarFiltros" class="btn-cerrar-filtros">&times;</button>
        </div>
        <div id="contenidoFiltros" class="panel-filtros-content">
            <!-- Se carga din√°micamente -->
        </div>
        <div class="panel-filtros-footer">
            <button id="btnAplicarFiltros" class="btn btn-primary">Aplicar Filtros</button>
            <button id="btnLimpiarFiltros" class="btn btn-outline">Limpiar</button>
        </div>
    </div>

    <!-- Main Content: Cards + Mapa -->
    <div id="mainContainer" class="main-container" style="display: none;">
        <!-- Columna Izquierda: Lista de Propiedades -->
        <section class="listings-section" id="listingsSection">
            <div id="propertiesList" class="properties-list">
                <!-- Se carga din√°micamente -->
            </div>
        </section>

        <!-- Columna Derecha: Mapa (Sticky) -->
        <section class="map-section">
            <div id="map" class="map-canvas"></div>
        </section>
    </div>

    <!-- Modal Login (para usuarios no autenticados) -->
    <div id="loginModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>üîí Inicia Sesi√≥n</h2>
            <p>Para ver la informaci√≥n de contacto completa, debes iniciar sesi√≥n</p>
            <div class="modal-buttons">
                <a href="login.html" class="btn btn-primary">Iniciar Sesi√≥n</a>
                <a href="registro.html" class="btn btn-secondary">Registrarse</a>
            </div>
        </div>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="js/pages/resultados.js"></script>
</body>
</html>
